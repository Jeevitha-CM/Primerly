<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Primerly">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#2c5aa0">
    <title>About Primerly ‚Äì PCR Primer Design Tool</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600;700&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c5aa0;
            --primary-dark: #1e3f73;
            --primary-light: #4a7bc8;
            --accent-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }
        
        body {
            background-color: #f8f9fa;
            font-family: 'IBM Plex Sans', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }
        
        /* Mobile Safari optimizations */
        @media screen and (max-width: 768px) {
            .container {
                padding-left: 15px;
                padding-right: 15px;
            }
            
            .btn {
                min-height: 44px;
                font-size: 16px;
            }
            
            .card {
                margin-bottom: 1rem;
            }
            
            .modal-dialog {
                margin: 10px;
            }
            
            .modal-content {
                border-radius: 10px;
            }
            
            .table-responsive {
                font-size: 14px;
            }
        }
        
        @media screen and (max-width: 480px) {
            .container {
                padding-left: 10px;
                padding-right: 10px;
            }
            
            .btn {
                width: 100%;
                margin-bottom: 0.5rem;
            }
            
            .card-body {
                padding: 1rem;
            }
            
            .table {
                font-size: 12px;
            }
        }
        
        .navbar-dark {
            background-color: var(--primary-color) !important;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            border-color: var(--primary-dark);
        }
        
        .btn-outline-primary {
            color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-outline-primary:hover {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .text-primary {
            color: var(--primary-color) !important;
        }
        
        .border-primary {
            border-color: var(--primary-color) !important;
        }
        
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 60px 0;
        }
        .feature-card {
            border-left: 4px solid var(--primary-color);
            transition: transform 0.2s;
        }
        .feature-card:hover {
            transform: translateY(-2px);
        }
        .scoring-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .score-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #dee2e6;
        }
        .score-item:last-child {
            border-bottom: none;
        }
        .score-points {
            font-weight: bold;
            color: var(--primary-color);
        }
    </style>
    <script>
        // Disable right-click context menu
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });
        
        // Disable keyboard shortcuts for developer tools
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12') {
                e.preventDefault();
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.key === 'I') {
                e.preventDefault();
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.key === 'J') {
                e.preventDefault();
                return false;
            }
            if (e.ctrlKey && e.key === 'u') {
                e.preventDefault();
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                e.preventDefault();
                return false;
            }
        });
        
        // Disable console access
        console.log = function() {};
        console.info = function() {};
        console.warn = function() {};
        console.error = function() {};
        console.debug = function() {};
        
        // Disable alert override attempts
        window.alert = function() {};
        
        // Disable eval
        window.eval = function() {};
        
        // Disable Function constructor
        window.Function = function() {};
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-dna me-2"></i>Primerly
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link" href="/">Home</a>
                    <a class="nav-link active" href="/about">About Primerly</a>
                    <a class="nav-link" href="/learn">Learn</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h1 class="display-4 mb-4">üî¨ Primerly - PCR Primer Design Tool</h1>
                    <p class="lead"><strong>A Biovagon Initiative</strong></p>
                    <p class="lead">Advanced yet beginner-friendly web application for designing PCR and qPCR primers with scientific accuracy and ease of use. Built using primer3-py and Biopython, Primerly bridges computational precision with an intuitive interface ‚Äî enabling students, researchers, and professionals to design high-quality primers confidently.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container py-5">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <!-- Core Features -->
                <div class="card mb-4 feature-card">
                    <div class="card-body">
                        <h2 class="mb-3">üåü Core Features</h2>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5>üß™ Dual Experiment Types</h5>
                                <p>Design primers for Standard PCR and qPCR with pre-optimized parameters for each application.</p>
                                
                                <h5>üß¨ Multiple Input Methods</h5>
                                <p>Input your DNA sequence directly or fetch it instantly using an NCBI accession number ‚Äî no manual downloads required.</p>
                                
                                <h5>üéØ Target Region Selection</h5>
                                <p>Choose your desired target region with precision:</p>
                                <ul>
                                    <li><strong>Full Gene</strong></li>
                                    <li><strong>CDS</strong> (with automatic ORF detection)</li>
                                    <li><strong>3‚Ä≤ UTR</strong></li>
                                    <li><strong>Custom coordinate range</strong></li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5>üîç Comprehensive Quality Analysis</h5>
                                <p>Each designed primer undergoes detailed evaluation for:</p>
                                <ul>
                                    <li>Melting Temperature (Tm)</li>
                                    <li>GC Content</li>
                                    <li>Secondary Structures (Hairpins, Dimers)</li>
                                    <li>Product Size</li>
                                    <li>GC Clamp and 3‚Ä≤ stability</li>
                                </ul>
                                
                                <h5>üß´ Interactive Visualization</h5>
                                <p>Real-time color-coded quality indicators, interactive gene maps, and visual primer alignment make the process intuitive and educational.</p>
                                
                                <h5>üìä Export Options</h5>
                                <p>Download CSV reports with detailed primer data, quality scores, and analytical breakdowns ‚Äî ready for lab documentation or publication.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scoring System -->
                <div class="card mb-4 feature-card">
                    <div class="card-body">
                        <h2 class="mb-3">üß¨ Primer Quality Scoring System ‚Äî A Unique Biovagon Feature</h2>
                        <p>Developed by Biovagon, this proprietary scoring system enhances beginner confidence and experimental reliability by quantifying primer quality based on globally accepted design standards. It ensures every user ‚Äî from student to scientist ‚Äî can trust the quality of their selected primers.</p>
                        
                        <div class="scoring-section">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Description</th>
                                        <th>Points</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Melting Temperature (Tm)</strong></td>
                                        <td>Optimal 58‚Äì62 ¬∞C</td>
                                        <td class="score-points">20</td>
                                    </tr>
                                    <tr>
                                        <td><strong>GC Content</strong></td>
                                        <td>Balanced 40‚Äì60 %</td>
                                        <td class="score-points">15</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Primer Length</strong></td>
                                        <td>Ideal 18‚Äì25 bp</td>
                                        <td class="score-points">10</td>
                                    </tr>
                                    <tr>
                                        <td><strong>GC Clamp</strong></td>
                                        <td>Stable 3‚Ä≤ end</td>
                                        <td class="score-points">10</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Hairpin Structure</strong></td>
                                        <td>Minimal secondary structures</td>
                                        <td class="score-points">15</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Self-Dimer Formation</strong></td>
                                        <td>Low self-binding</td>
                                        <td class="score-points">10</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Product Size</strong></td>
                                        <td>Experiment-appropriate</td>
                                        <td class="score-points">10</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Overall Quality Bonus</strong></td>
                                        <td>Exceptional performance</td>
                                        <td class="score-points">10</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="alert alert-success mt-3">
                            <h6><strong>Score Interpretation:</strong></h6>
                            <ul class="mb-0">
                                <li><strong>üü¢ 80‚Äì100:</strong> Excellent ‚Äì Ready for use</li>
                                <li><strong>üü° 60‚Äì79:</strong> Good ‚Äì Minor optimizations possible</li>
                                <li><strong>üî¥ Below 60:</strong> Redesign recommended</li>
                            </ul>
                        </div>
                        
                        <div class="alert alert-primary mt-3">
                            <p class="mb-0"><strong>This scoring framework, designed by Biovagon, is inspired by universal primer design standards ‚Äî redefining how users evaluate and trust their primers.</strong></p>
                        </div>
                    </div>
                </div>

                <!-- Why Choose Primerly -->
                <div class="card mb-4 feature-card">
                    <div class="card-body">
                        <h2 class="mb-3">üí° Why Choose Primerly?</h2>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2">‚úÖ <strong>Scientifically validated</strong> and educationally designed</li>
                                    <li class="mb-2">‚úÖ <strong>Seamless integration</strong> of primer3-py and Biopython</li>
                                    <li class="mb-2">‚úÖ <strong>Real-time feedback</strong> with interactive visuals</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li class="mb-2">‚úÖ <strong>Beginner and expert modes</strong> for all experience levels</li>
                                    <li class="mb-2">‚úÖ <strong>Free, reliable,</strong> and research-ready</li>
                                    <li class="mb-2">‚úÖ <strong>Professional quality</strong> results every time</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mission Statement -->
                <div class="card mb-4 feature-card">
                    <div class="card-body text-center">
                        <h2 class="mb-4">üöÄ Primerly ‚Äî Simplifying Science, Amplifying Precision</h2>
                        <p class="lead">Designed and developed by <strong>Biovagon</strong> to make advanced primer design accessible, educational, and dependable for every biologist.</p>
                        
                        <div class="row mt-4">
                            <div class="col-md-3 text-center mb-3">
                                <i class="fas fa-graduation-cap fa-3x text-primary mb-2"></i>
                                <h5>Students</h5>
                                <p class="small">Learning PCR primer design concepts</p>
                            </div>
                            <div class="col-md-3 text-center mb-3">
                                <i class="fas fa-flask fa-3x text-success mb-2"></i>
                                <h5>Researchers</h5>
                                <p class="small">Quick primer design for experiments</p>
                            </div>
                            <div class="col-md-3 text-center mb-3">
                                <i class="fas fa-chalkboard-teacher fa-3x text-warning mb-2"></i>
                                <h5>Educators</h5>
                                <p class="small">Teaching molecular biology concepts</p>
                            </div>
                            <div class="col-md-3 text-center mb-3">
                                <i class="fas fa-industry fa-3x text-info mb-2"></i>
                                <h5>Biotech Professionals</h5>
                                <p class="small">Rapid primer validation</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom panels for Early Access and Upcoming Features -->
    <div class="container py-4">
        <div class="row">
            <div class="col-md-6 mb-3">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h6 class="mb-2">Early Access</h6>
                        <p class="small mb-2"><strong>First 1,000 users</strong> get discount and advanced features.</p>
                        <button class="btn btn-sm btn-success w-100" data-bs-toggle="modal" data-bs-target="#earlyAccessModal">Join Early Access</button>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h6 class="mb-2">Upcoming Features</h6>
                        <p class="small mb-2">Interested in ordering primers when we launch?</p>
                        <div class="d-flex align-items-center mb-2">
                            <button id="interest-btn" class="btn btn-sm btn-outline-primary me-2">I'd order</button>
                            <span class="small text-muted">Interest: <span id="interest-count">0</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center text-muted mt-5 py-4 bg-light">
        <div class="container">
            <p>&copy; 2025 Primerly - A Biovagon Initiative | Version 1.0.0 | MIT License</p>
            <p class="small">
                <a href="/" class="text-decoration-none">Design Primers</a> | 
                <a href="/learn" class="text-decoration-none">Learn More</a> | 
                <a href="/version" class="text-decoration-none">Version Info</a> |
                <a href="https://www.biovagon.org/" target="_blank" class="text-decoration-none">Biovagon</a>
            </p>
        </div>
    </footer>

    <!-- Early Access Modal -->
    <div class="modal fade" id="earlyAccessModal" tabindex="-1" aria-labelledby="earlyAccessModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="earlyAccessModalLabel">Join Early Access</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-4">
                        <h4 class="text-primary">üåü Be Among the First 1,000 Users!</h4>
                        <p class="mb-3">Join our early access community and unlock exclusive perks:</p>
                        <div class="text-start">
                            <p class="mb-2">üí∏ <strong>Special discounts</strong> on primer orders (delivered within 5‚Äì10 days)</p>
                            <p class="mb-2">‚öôÔ∏è <strong>Advanced features</strong> and priority support</p>
                            <p class="mb-2">üöÄ <strong>Early access</strong> to new Biovagon tools and updates</p>
                            <p class="mb-3">üí¨ <strong>Share your opinions</strong> ‚Äî help shape Primerly's next generation</p>
                            <p class="small text-muted">‚ú® Your feedback drives innovation. Join today and be part of Biovagon's first 1,000 researchers!</p>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Name</label>
                        <input type="text" class="form-control" id="ea-name" placeholder="Your name">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="ea-email" placeholder="you@example.com">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Phone (optional)</label>
                        <input type="text" class="form-control" id="ea-phone" placeholder="Optional">
                    </div>
                    <div id="ea-error" class="text-danger small d-none"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="submitEarlyAccess()">Join Early Access</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Real-time analytics system
        let analyticsInterval;

        // Load stats function
        async function loadStats() {
            try {
                const res = await fetch('/stats');
                const data = await res.json();
                if (data && !data.error) {
                    const ic = document.getElementById('interest-count');
                    if (ic) ic.textContent = data.order_interest ?? '0';
                    return data;
                }
            } catch (error) {
                console.log('Analytics load failed:', error);
            }
            return { order_interest: 0 };
        }

        // Start real-time analytics refresh
        function startAnalyticsRefresh() {
            // Load immediately
            loadStats();
            
            // Then refresh every 3 seconds for real-time updates
            analyticsInterval = setInterval(loadStats, 3000);
        }

        // Stop analytics refresh (for cleanup)
        function stopAnalyticsRefresh() {
            if (analyticsInterval) {
                clearInterval(analyticsInterval);
                analyticsInterval = null;
            }
        }

        // Initialize analytics on page load
        document.addEventListener('DOMContentLoaded', startAnalyticsRefresh);

        // Cleanup on page unload
        window.addEventListener('beforeunload', stopAnalyticsRefresh);

        // Handle order interest button
        document.getElementById('interest-btn').addEventListener('click', function() {
            fetch('/order-interest', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Update immediately
                    const ic = document.getElementById('interest-count');
                    if (ic) ic.textContent = data.order_interest ?? '0';
                    // Change button appearance
                    this.textContent = 'Thanks!';
                    this.classList.remove('btn-outline-primary');
                    this.disabled = true;
                    
                    // Refresh all analytics to sync across pages
                    loadStats();
                    this.classList.add('btn-success');
                    this.disabled = true;
                }
            })
            .catch(error => console.error('Error:', error));
        });

        // Handle early access form submission
        function submitEarlyAccess() {
            const name = document.getElementById('ea-name').value;
            const email = document.getElementById('ea-email').value;
            const phone = document.getElementById('ea-phone').value;
            
            if (!name || !email) {
                alert('Please enter your name and email address');
                return;
            }

            fetch('/early-access-signup', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    name: name,
                    email: email,
                    phone: phone
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Thank you for joining Early Access! We\'ll be in touch soon.');
                    // Close modal
                    const modal = bootstrap.Modal.getInstance(document.getElementById('earlyAccessModal'));
                    modal.hide();
                    // Reset form
                    document.getElementById('ea-name').value = '';
                    document.getElementById('ea-email').value = '';
                    document.getElementById('ea-phone').value = '';
                } else {
                    alert('Error: ' + (data.error || 'Please try again'));
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error submitting form. Please try again.');
            });
        }
    </script>
</body>
</html>
